<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... -->
    <script type="text/javascript" src="/homey.js" data-origin="settings"></script>
</head>
<body>
<h1 data-i18n="settings.title">
    <!--
      This field will automatically be filled by a translated string with key 'settings.title'.
      Read more about translations at Internationalization.
    -->
</h1>
<p data-i18n="settings.subtitle">
    <!-- This field will also be translated -->
</p>
<a href="http://weerlive.nl/api/toegang/index.php">http://weerlive.nl/api/toegang/index.php</a>

<fieldset>
    <legend>My Settings</legend>

    <div class="field row">
        <label for="weerlive_api_key">Api-Key</label>
        <input id="weerlive_api_key" type="text" value="" />
    </div>
</fieldset>

<button id="save" class="right">Save changes</button>

<script type="text/javascript">
  // a method named 'onHomeyReady' must be present in your code
  function onHomeyReady(Homey) {
    var weerlive_api_key = document.getElementById('weerlive_api_key');
    var saveElement = document.getElementById('save');

    Homey.get('weerlive_api_key', function (err, key) {
      if (err) return Homey.alert(err);
      weerlive_api_key.value = key;
    });

    saveElement.addEventListener('click', function (e) {
      Homey.set('weerlive_api_key', weerlive_api_key.value, function (err) {
        if (err) return Homey.alert(err);
      });
    });
    Homey.ready();
  }
</script>
</body>
</html>